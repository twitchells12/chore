(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{122:function(e,t,r){},123:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(24),c=r.n(a),s=r(6),o=r(37),i=r(67),l=r(66),j=r(29),d="PROJECT_LIST_REQUEST",u="PROJECT_LIST_SUCCESS",p="PROJECT_LIST_FAIL",b="PROJECT_LIST_RESET",h="PROJECT_DETAIL_REQUEST",O="PROJECT_DETAIL_SUCCESS",x="PROJECT_DETAIL_FAIL",f="PROJECT_DELETE_REQUEST",g="PROJECT_DELETE_SUCCESS",m="PROJECT_DELETE_FAIL",v="PROJECT_CREATE_REQUEST",y="PROJECT_CREATE_SUCCESS",E="PROJECT_CREATE_FAIL",S="PROJECT_CREATE_RESET",C="PROJECT_UPDATE_REQUEST",_="PROJECT_UPDATE_SUCCESS",L="PROJECT_UPDATE_FAIL",I="PROJECT_UPDATE_RESET",T="USER_LOGIN_REQUEST",R="USER_LOGIN_SUCCESS",w="USER_LOGIN_FAIL",U="USER_LOGOUT",D="USER_REGISTER_REQUEST",k="USER_REGISTER_SUCCESS",P="USER_REGISTER_FAIL",A="USER_DETAILS_REQUEST",N="USER_DETAILS_SUCCESS",G="USER_DETAILS_FAIL",J="USER_DETAILS_RESET",F="USER_UPDATE_PROFILE_REQUEST",B="USER_UPDATE_PROFILE_SUCCESS",Q="USER_UPDATE_PROFILE_FAIL",z="USER_UPDATE_PROFILE_RESET",q="USER_LIST_REQUEST",Y="USER_LIST_SUCCESS",H="USER_LIST_FAIL",M="USER_LIST_RESET",W="USER_DELETE_REQUEST",K="USER_DELETE_SUCCESS",V="USER_DELETE_FAIL",X="USER_UPDATE_REQUEST",Z="USER_UPDATE_SUCCESS",$="USER_UPDATE_FAIL",ee="USER_UPDATE_RESET",te=Object(o.combineReducers)({projectList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{projects:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0,projects:[]};case u:return{loading:!1,projects:t.payload};case p:return{loading:!1,error:t.payload};case b:return{users:[]};default:return e}},projectDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{project:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)({loading:!0},e);case O:return{loading:!1,project:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},projectDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case g:return{loading:!1,success:!0};case m:return{loading:!1,error:t.payload};default:return e}},projectCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case y:return{loading:!1,success:!0,project:t.payload};case E:return{loading:!1,error:t.payload};case S:return{};default:return e}},projectUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{project:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case _:return{loading:!1,success:!0,project:t.payload};case L:return{loading:!1,error:t.payload};case I:return{project:{}};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{projects:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case R:return{loading:!1,userInfo:t.payload};case w:return{loading:!1,error:t.payload};case U:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case k:return{loading:!1,userInfo:t.payload};case P:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case N:return{loading:!1,user:t.payload};case G:return{loading:!1,error:t.payload};case J:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case B:return{loading:!1,success:!0,userInfo:t.payload};case Q:return{loading:!1,error:t.payload};case z:return{user:{}};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case Y:return{loading:!1,users:t.payload};case H:return{loading:!1,error:t.payload};case M:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case K:return{loading:!1,success:!0};case V:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,success:!0};case $:return{loading:!1,error:t.payload};case ee:return{user:{}};default:return e}}}),re={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},ne=[i.a],ae=Object(o.createStore)(te,re,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,ne))),ce=(r(82),r(83),r(13)),se=r(10),oe=r(128),ie=r(129),le=r(68),je=r(1),de=r(17),ue=r(134),pe=r(136),be=r(132),he=r(8),Oe=r(133),xe=r(70);var fe=function(){var e=Object(n.useState)(""),t=Object(he.a)(e,2),r=t[0],a=t[1],c=Object(se.k)();return Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault(),r?c.push("/?keyword=".concat(r)):c.push(c.push(c.location.pathname))},className:"d-flex",inline:!0,children:[Object(je.jsx)(Oe.a.Control,{type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){return a(e.target.value)}}),Object(je.jsx)(xe.a,{variant:"outline-success",className:"mt-0",children:"Search"})]})},ge=r(18),me=r(9),ve=r.n(me),ye=r(19),Ee=r.n(ye),Se=function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:A}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.get("/api/users/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,r({type:N,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Ce=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(je.jsx)(ue.a,{children:Object(je.jsxs)(oe.a,{children:[Object(je.jsx)(de.LinkContainer,{to:"/",children:Object(je.jsx)("h3",{children:"Chore"})}),Object(je.jsx)(fe,{}),Object(je.jsx)(de.LinkContainer,{to:"/dashboard",children:Object(je.jsx)(pe.a.Link,{children:"Dashboard"})}),Object(je.jsxs)(pe.a,{className:"ml-auto",children:[t?Object(je.jsxs)(be.a,{title:Object(je.jsx)("div",{className:"pull-left",children:t.name}),id:"firstName",children:[Object(je.jsx)(de.LinkContainer,{to:"/profile",children:Object(je.jsx)(be.a.Item,{children:"Profile"})}),Object(je.jsx)(de.LinkContainer,{to:"/login",children:Object(je.jsx)(be.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("userDetails"),e({type:U}),e({type:J}),e({type:M})}))},children:"Logout"})})]}):[Object(je.jsx)(de.LinkContainer,{to:"/login",children:Object(je.jsxs)(pe.a.Link,{children:[Object(je.jsx)("i",{className:"fas fa-user"})," Login"]})}),Object(je.jsx)(de.LinkContainer,{to:"/register",children:Object(je.jsxs)(pe.a.Link,{children:[Object(je.jsx)("i",{className:"fas fa-user-plus"})," Register"]})})],t&&t.isAdmin&&Object(je.jsxs)(be.a,{title:"Admin",id:"nav-dropdown",children:[Object(je.jsx)(de.LinkContainer,{to:"/admin/userlist",children:Object(je.jsx)(be.a.Item,{children:"Users"})}),Object(je.jsx)(de.LinkContainer,{to:"/admin/projectlist",children:Object(je.jsx)(be.a.Item,{children:"Projects"})}),Object(je.jsx)(de.LinkContainer,{to:"/admin/teamlist",children:Object(je.jsx)(be.a.Item,{children:"Teams"})})]})]})]})})},_e=r(137),Le=function(e){var t=e.project;return Object(je.jsxs)(_e.a,{className:"my-3 p-3 rounded",children:[Object(je.jsx)(_e.a.Header,{className:"card_dropdown",children:Object(je.jsx)("i",{className:"fas fa-ellipsis-h"})}),Object(je.jsxs)(_e.a.Body,{className:"card_body",children:[Object(je.jsx)(ce.Link,{to:"/project/".concat(t._id),children:Object(je.jsx)(_e.a.Title,{as:"div",children:Object(je.jsxs)("strong",{children:[t._id," ",t.title]})})}),Object(je.jsxs)(_e.a.Subtitle,{className:"card_subtitle",children:[Object(je.jsx)("i",{className:"fas fa-flag flag"})," Due ",t.due_date]}),Object(je.jsx)(_e.a.Text,{as:"div",children:Object(je.jsx)("div",{className:"my-3 desc",children:t.description})}),Object(je.jsx)(_e.a.Text,{children:t.status})]})]})},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(ge.a)(ve.a.mark((function t(r){var n,a;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:d}),t.next=4,Ee.a.get("/api/projects".concat(e));case 4:n=t.sent,a=n.data,r({type:u,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:p,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r){var n,a;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:h}),t.next=4,Ee.a.get("/api/projects/".concat(e));case 4:n=t.sent,a=n.data,r({type:O,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:x,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Re=r(135),we=function(e){var t=e.variant,r=e.children,a=Object(n.useState)(!0),c=Object(he.a)(a,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){setTimeout((function(){o(!1)}),3e3)}),[]),Object(je.jsx)(Re.a,{variant:t,show:s,children:r})};we.defaultProps={variant:"info"};var Ue=we,De=r(130),ke=function(){return Object(je.jsx)(De.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(je.jsx)("span",{className:"sr-only",children:"Loading"})})},Pe=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.projectList})),c=a.loading,o=a.error,i=a.projects,l=t.location.search;return console.log(l),Object(n.useEffect)((function(){r(Ie(l))}),[r,l]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Projects"}),c?Object(je.jsx)(ke,{}):o?Object(je.jsx)(Ue,{variant:"danger",children:o}):Object(je.jsx)(ie.a,{children:i.map((function(e){return Object(je.jsx)(le.a,{sm:12,md:6,lg:4,xl:3,children:Object(je.jsx)(Le,{project:e},e._id)})}))})]})},Ae=r(138),Ne=function(e){var t=e.match,r=Object(s.b)(),a=Object(n.useState)(""),c=Object(he.a)(a,2),o=(c[0],c[1]),i=Object(s.c)((function(e){return e.projectDetail})),l=i.loading,j=i.error,d=i.project,u=Object(s.c)((function(e){return e.userDetails}));return Object(n.useEffect)((function(){r(Te(t.params.id)),o(u.avatar)}),[t,r]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ce.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),l?Object(je.jsx)(ke,{}):j?Object(je.jsx)(Ue,{variant:"danger",children:j}):Object(je.jsx)(ie.a,{children:Object(je.jsx)(le.a,{children:Object(je.jsxs)(Ae.a,{variant:"flush",children:[Object(je.jsx)(Ae.a.Item,{children:Object(je.jsx)("h3",{children:d.project_name})}),Object(je.jsxs)(Ae.a.Item,{children:["Description: ",d.description]}),Object(je.jsxs)(Ae.a.Item,{children:["Status: ",d.status]}),Object(je.jsxs)(Ae.a.Item,{children:["Workers: ",d.workers]})]},d._id)})})]})},Ge=function(e){var t=e.children;return Object(je.jsx)(oe.a,{children:Object(je.jsx)(ie.a,{className:"justify-content-md-center",children:Object(je.jsx)(le.a,{xs:12,md:6,children:t})})})},Je=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(he.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),j=Object(he.a)(l,2),d=j[0],u=j[1],p=Object(s.b)(),b=Object(s.c)((function(e){return e.userLogin})),h=b.loading,O=b.error,x=b.userInfo,f=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){x&&r.push(f)}),[r,x,f]);return Object(je.jsxs)(Ge,{children:[Object(je.jsx)("h1",{children:"Sign In"}),O&&Object(je.jsx)(Ue,{variant:"danger",children:O}),h&&Object(je.jsx)(ke,{}),Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var r=Object(ge.a)(ve.a.mark((function r(n){var a,c,s;return ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:T}),a={headers:{"Content-Type":"application/json"}},r.next=5,Ee.a.post("/api/users/login/",{username:e,password:t},a);case 5:c=r.sent,s=c.data,n({type:R,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:w,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(o,d))},children:[Object(je.jsxs)(Oe.a.Group,{controlId:"email",children:[Object(je.jsx)(Oe.a.Label,{children:"Email"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"password",children:[Object(je.jsx)(Oe.a.Label,{children:"Password"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"password",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(je.jsx)(xe.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(je.jsx)(ie.a,{className:"py-3",children:Object(je.jsxs)(le.a,{children:["New User?"," ",Object(je.jsx)(ce.Link,{to:f?"/register?redirect=".concat(f):"/register",children:"Register"})]})})]})},Fe=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(he.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),j=Object(he.a)(l,2),d=j[0],u=j[1],p=Object(n.useState)(""),b=Object(he.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(""),f=Object(he.a)(x,2),g=f[0],m=f[1],v=Object(n.useState)(null),y=Object(he.a)(v,2),E=y[0],S=y[1],C=Object(s.b)(),_=Object(s.c)((function(e){return e.userRegister})),L=_.loading,I=_.error,T=_.userInfo,w=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){T&&r.push(w)}),[r,T,w]);return Object(je.jsxs)(Ge,{children:[Object(je.jsx)("h1",{children:"Register"}),E&&Object(je.jsx)(Ue,{variant:"danger",children:E}),I&&Object(je.jsx)(Ue,{variant:"danger",children:I}),L&&Object(je.jsx)(ke,{}),Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault(),h!==g?S("Passwords do not match"):C(function(e,t,r){return function(){var n=Object(ge.a)(ve.a.mark((function n(a){var c,s,o;return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:D}),c={headers:{"Content-Type":"application/json"}},n.next=5,Ee.a.post("/api/users/register/",{name:e,email:t,password:r},c);case 5:s=n.sent,o=s.data,a({type:k,payload:o}),a({type:R,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:P,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,d,h))},children:[Object(je.jsxs)(Oe.a.Group,{controlId:"name",children:[Object(je.jsx)(Oe.a.Label,{children:"Name"}),Object(je.jsx)(Oe.a.Control,{required:!0,type:"string",placeholder:"Name",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"email",children:[Object(je.jsx)(Oe.a.Label,{children:"Email"}),Object(je.jsx)(Oe.a.Control,{required:!0,type:"string",placeholder:"Email",value:d,onChange:function(e){return u(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"password",children:[Object(je.jsx)(Oe.a.Label,{children:"Password"}),Object(je.jsx)(Oe.a.Control,{required:!0,type:"string",placeholder:"password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"confirmPassword",children:[Object(je.jsx)(Oe.a.Label,{children:"Confirm Password"}),Object(je.jsx)(Oe.a.Control,{required:!0,type:"string",placeholder:"Confirm Password",value:g,onChange:function(e){return m(e.target.value)}})]}),Object(je.jsx)(xe.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(je.jsx)(ie.a,{className:"py-3",children:Object(je.jsxs)(le.a,{children:["Have an Account?"," ",Object(je.jsx)(ce.Link,{to:w?"/login?redirect=".concat(w):"/login",children:"Login"})]})})]})},Be=function(e){e.location;var t=e.history,r=Object(n.useState)(""),a=Object(he.a)(r,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(he.a)(i,2),j=l[0],d=l[1],u=Object(n.useState)(""),p=Object(he.a)(u,2),b=p[0],h=p[1],O=Object(n.useState)(""),x=Object(he.a)(O,2),f=x[0],g=x[1],m=Object(n.useState)(""),v=Object(he.a)(m,2),y=v[0],E=v[1],S=Object(n.useState)(null),C=Object(he.a)(S,2),_=C[0],L=C[1],I=Object(s.b)(),T=Object(s.c)((function(e){return e.userDetails})),w=T.loading,U=T.error,D=T.user,k=Object(s.c)((function(e){return e.userLogin})).userInfo,P=Object(s.c)((function(e){return e.userUpdateProfile})).success;Object(n.useEffect)((function(){k?D&&D.name&&!P&&k._id===D._id?(o(D.name),d(D.email),E(D.avatar)):(I({type:z}),I(Se("profile"))):t.push("/login")}),[t,k,I,D,P]);return Object(je.jsxs)(Ge,{children:[Object(je.jsxs)("h1",{children:[c,"'s Profile"]}),Object(je.jsx)("img",{src:y,width:"30px",height:"30px"}),_&&Object(je.jsx)(Ue,{variant:"danger",children:_}),U&&Object(je.jsx)(Ue,{variant:"danger",children:U}),P&&Object(je.jsx)(Ue,{variant:"success",children:"Profile Updated"}),w&&Object(je.jsx)(ke,{}),Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault(),b!==f?L("Passwords do not match"):I(function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:F}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.put("/api/users/profile/update/",e,s);case 6:o=t.sent,i=o.data,r({type:B,payload:i}),r({type:R,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:Q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:D._id,name:c,email:j,password:b}))},children:[Object(je.jsxs)(Oe.a.Group,{controlId:"name",children:[Object(je.jsx)(Oe.a.Label,{children:"Name"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Name",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"email",children:[Object(je.jsx)(Oe.a.Label,{children:"Email"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Email",value:j,onChange:function(e){return d(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"password",children:[Object(je.jsx)(Oe.a.Label,{children:"Password"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"confirmPassword",children:[Object(je.jsx)(Oe.a.Label,{children:"Confirm Password"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Confirm Password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(je.jsx)(xe.a,{type:"submit",variant:"primary",children:"Update"})]})]})},Qe=r(131),ze=function(e){var t=e.history,r=Object(s.b)(),a=Object(s.c)((function(e){return e.userList})),c=a.loading,o=a.error,i=a.users,l=Object(s.c)((function(e){return e.userLogin})).userInfo,j=Object(s.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){l&&l.isAdmin?r(function(){var e=Object(ge.a)(ve.a.mark((function e(t,r){var n,a,c,s,o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,Ee.a.get("/api/users/",c);case 6:s=e.sent,o=s.data,t({type:Y,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:H,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,j,t,l]);var d=function(e){window.confirm("Are you sure")&&(r(function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:W}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.delete("/api/users/delete/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,r({type:K,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:V,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e)),console.log("delete user"))};return Object(je.jsxs)(Ge,{children:[Object(je.jsx)("h1",{children:"Users"}),c?Object(je.jsx)(ke,{}):o?Object(je.jsx)(Ue,{variant:"danger",children:o}):Object(je.jsxs)(Qe.a,{className:"table-sm",children:[Object(je.jsx)("thead",{children:Object(je.jsxs)("tr",{children:[Object(je.jsx)("th",{children:"ID"}),Object(je.jsx)("th",{children:"Name"}),Object(je.jsx)("th",{children:"Email"}),Object(je.jsx)("th",{children:"Admin"}),Object(je.jsx)("th",{})]})}),Object(je.jsx)("tbody",{children:i.map((function(e){return Object(je.jsxs)("tr",{children:[Object(je.jsx)("td",{children:e._id}),Object(je.jsx)("td",{children:e.name}),Object(je.jsx)("td",{children:Object(je.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(je.jsx)("td",{children:e.isAdmin?Object(je.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(je.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(je.jsxs)("td",{children:[Object(je.jsx)(de.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(je.jsx)(xe.a,{variant:"light",className:"btn-sm",children:Object(je.jsx)("i",{className:"fas fa-edit"})})}),Object(je.jsx)(xe.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(je.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},qe=function(e){var t=e.history,r=e.match,a=Object(s.b)(),c=Object(s.c)((function(e){return e.projectList})),o=c.loading,i=c.error,l=c.projects,j=Object(s.c)((function(e){return e.projectDelete})),d=(j.loading,j.error,j.success),u=Object(s.c)((function(e){return e.projectCreate})),p=(u.loading,u.error,u.success),b=u.project,h=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){a({type:S}),h.isAdmin||t.push("/login"),p?t.push("/admin/project/".concat(b._id,"/edit")):a(Ie())}),[a,t,h,r,d,p,b]);var O=function(e){window.confirm("Are you sure you want to delete this project?")&&(a(function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:f}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.delete("/api/projects/delete/".concat(e,"/"),s);case 6:t.sent.data,r({type:g}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e)),console.log("delete project"))};return Object(je.jsxs)(oe.a,{children:[Object(je.jsx)("h1",{children:"Projects"}),o?Object(je.jsx)(ke,{}):i?Object(je.jsx)(Ue,{variant:"danger",children:i}):Object(je.jsxs)(Qe.a,{className:"table-sm",children:[Object(je.jsx)("thead",{children:Object(je.jsxs)("tr",{children:[Object(je.jsx)("th",{children:"ID"}),Object(je.jsx)("th",{children:"Name"}),Object(je.jsx)("th",{children:"Assignee"}),Object(je.jsx)("th",{children:"Description"}),Object(je.jsx)("th",{children:"Lat"}),Object(je.jsx)("th",{children:"Long"}),Object(je.jsx)("th",{children:"Start Date"}),Object(je.jsx)("th",{children:"Due Date"}),Object(je.jsx)("th",{children:"Status"}),Object(je.jsx)("th",{children:"Completed Date"}),Object(je.jsx)("th",{children:"Customer"}),Object(je.jsx)("th",{})]})}),Object(je.jsx)("tbody",{children:l.map((function(e){return Object(je.jsxs)("tr",{children:[Object(je.jsx)("td",{children:e._id}),Object(je.jsx)("td",{children:e.title}),Object(je.jsx)("td",{children:e.employee}),Object(je.jsx)("td",{children:e.description}),Object(je.jsx)("td",{children:e.lat}),Object(je.jsx)("td",{children:e.lon}),Object(je.jsx)("td",{children:e.created_at}),Object(je.jsx)("td",{children:e.due_date}),Object(je.jsx)("td",{children:e.status}),Object(je.jsx)("td",{children:e.completed_on}),Object(je.jsx)("td",{children:e.customer}),Object(je.jsxs)("td",{children:[Object(je.jsx)(de.LinkContainer,{to:"/admin/project/".concat(e._id,"/edit"),children:Object(je.jsx)(xe.a,{variant:"light",className:"btn-sm",children:Object(je.jsx)("i",{className:"fas fa-edit"})})}),Object(je.jsx)(xe.a,{variant:"danger",className:"btn-sm",onClick:function(){return O(e._id)},children:Object(je.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},Ye=r(73),He=r.n(Ye),Me=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),o=Object(he.a)(c,2),i=o[0],l=o[1],j=Object(n.useState)(""),d=Object(he.a)(j,2),u=d[0],p=d[1],b=Object(n.useState)(""),h=Object(he.a)(b,2),x=h[0],f=h[1],g=Object(n.useState)(""),m=Object(he.a)(g,2),v=m[0],y=m[1],E=Object(n.useState)(""),S=Object(he.a)(E,2),T=S[0],R=S[1],w=Object(n.useState)(""),U=Object(he.a)(w,2),D=U[0],k=U[1],P=Object(n.useState)(""),A=Object(he.a)(P,2),N=A[0],G=A[1],J=Object(s.b)(),F=Object(s.c)((function(e){return e.projectDetail})),B=F.loading,Q=F.error,z=F.project,q=Object(s.c)((function(e){return e.projectUpdate})),Y=q.loading,H=q.error,M=q.success;Object(n.useEffect)((function(){M?(J({type:I}),r.push("/admin/projectlist")):z.title&&z._id===Number(a)?(l(z.title),p(z.description),f(z.lat),y(z.lon),R(z.due_date),k(z.status),G(z.completed_on)):J(Te(a))}),[J,a,r,M]);return Object(je.jsxs)("div",{children:[Object(je.jsx)(ce.Link,{className:"btn btn-light my-3",to:"/admin/projectlist",children:"Go Back"}),Object(je.jsxs)(Ge,{children:[Object(je.jsx)("h1",{children:"Edit Project"}),Y&&Object(je.jsx)(ke,{}),H&&Object(je.jsx)(Ue,{variant:"danger",children:H}),B?Object(je.jsx)(ke,{}):Q?Object(je.jsx)(Ue,{variant:"danger",children:Q}):Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault();var t=He()(T).format("YYYY-MM-DD");console.log(typeof t),J(function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:C}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.put("/api/projects/update/".concat(e._id,"/"),e,s);case 6:o=t.sent,i=o.data,r({type:_,payload:i}),r({type:O,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:L,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:a,title:i,description:u,lat:x,lon:v,dueDate:T,status:D,completedDate:N}))},children:[Object(je.jsxs)(Oe.a.Group,{controlId:"name",children:[Object(je.jsx)(Oe.a.Label,{children:"Name"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Name",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"Description",children:[Object(je.jsx)(Oe.a.Label,{children:"Description"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Description",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"lat",children:[Object(je.jsx)(Oe.a.Label,{children:"Lat"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"lat",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"lon",children:[Object(je.jsx)(Oe.a.Label,{children:"Lon"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Lon",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"dueDate",children:[Object(je.jsx)(Oe.a.Label,{children:"Due Date"}),Object(je.jsx)(Oe.a.Control,{type:"date",placeholder:"Due Date",value:T,onChange:function(e){return R(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"Status",children:[Object(je.jsx)(Oe.a.Label,{children:"Status"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Status",value:D,onChange:function(e){return k(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"CompletedDate",children:[Object(je.jsx)(Oe.a.Label,{children:"Completed Date"}),Object(je.jsx)(Oe.a.Control,{type:"date",placeholder:"Completed Date",value:N,onChange:function(e){return G(e.target.value)}})]}),Object(je.jsx)(xe.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})},We=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),o=Object(he.a)(c,2),i=o[0],l=o[1],j=Object(n.useState)(""),d=Object(he.a)(j,2),u=d[0],p=d[1],b=Object(n.useState)(!1),h=Object(he.a)(b,2),O=h[0],x=h[1],f=Object(n.useState)(""),g=Object(he.a)(f,2),m=g[0],v=g[1],y=Object(n.useState)(""),E=Object(he.a)(y,2),S=E[0],C=E[1],_=Object(n.useState)(null),L=Object(he.a)(_,2),I=(L[0],L[1]),T=Object(s.b)(),R=Object(s.c)((function(e){return e.userDetails})),w=R.loading,U=R.error,D=R.user,k=Object(s.c)((function(e){return e.userUpdate})),P=k.loading,A=k.error,G=k.success;Object(n.useEffect)((function(){G?(T({type:ee}),r.push("/admin/userlist")):D.name&&D._id===Number(a)?(l(D.name),p(D.email),x(D.isAdmin)):T(Se(a))}),[T,D,a,r,G]);return Object(je.jsxs)("div",{children:[Object(je.jsx)(ce.Link,{className:"btn btn-light my-3",to:"/admin/userlist",children:"Go Back"}),P&&Object(je.jsx)(ke,{}),A&&Object(je.jsx)(Ue,{variant:"danger",children:A}),w?Object(je.jsx)(ke,{}):U?Object(je.jsx)(Ue,{variant:"danger",children:U}):Object(je.jsxs)(Ge,{children:[Object(je.jsx)("h1",{children:"Edit User"}),Object(je.jsxs)(Oe.a,{onSubmit:function(e){e.preventDefault(),m!==S?I("Passwords do not match"):T(function(e){return function(){var t=Object(ge.a)(ve.a.mark((function t(r,n){var a,c,s,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:X}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.put("/api/users/update/".concat(e._id,"/"),e,s);case 6:o=t.sent,i=o.data,r({type:Z}),r({type:N,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:$,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:D._id,name:i,email:u,isAdmin:O,password:m}))},children:[Object(je.jsxs)(Oe.a.Group,{controlId:"name",children:[Object(je.jsx)(Oe.a.Label,{children:"Name"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Name",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"email",children:[Object(je.jsx)(Oe.a.Label,{children:"Email"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"isAdmin",children:[Object(je.jsx)(Oe.a.Label,{children:"Is Admin"}),Object(je.jsx)(Oe.a.Check,{type:"checkbox",label:"Is Admin",checked:O,onChange:function(e){return x(e.target.checked)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"password",children:[Object(je.jsx)(Oe.a.Label,{children:"Password"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"password",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(je.jsxs)(Oe.a.Group,{controlId:"confirmPassword",children:[Object(je.jsx)(Oe.a.Label,{children:"Confirm Password"}),Object(je.jsx)(Oe.a.Control,{type:"string",placeholder:"Confirm Password",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(je.jsx)(xe.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})};r.p,r.p;var Ke=r(74),Ve=r.n(Ke);var Xe=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.projectList})),r=(t.loading,t.error,t.projects);Object(n.useEffect)((function(){e(Ie())}),[e]);var a=r.map((function(e){return e.customer}));return console.log(a),Object(je.jsx)("div",{children:Object(je.jsx)(Ve.a,{data:[{values:[],labels:["Residential","Non-Residential","Utility"],type:"pie"}],layout:{height:400,width:500}})})},Ze=function(){return Object(je.jsxs)(ce.HashRouter,{children:[Object(je.jsx)(Ce,{}),Object(je.jsxs)(se.g,{children:[Object(je.jsx)(se.d,{path:"/login",component:Je}),Object(je.jsx)(se.d,{path:"/register",component:Fe}),Object(je.jsx)(se.d,{path:"/profile",component:Be}),Object(je.jsx)(se.d,{path:"/project/:id",component:Ne}),Object(je.jsx)(se.d,{path:"/admin/userlist",component:ze}),Object(je.jsx)(se.d,{path:"/admin/user/:id/edit",component:We}),Object(je.jsx)(se.d,{path:"/admin/projectlist",component:qe}),Object(je.jsx)(se.d,{path:"/admin/project/:id/edit",component:Me}),Object(je.jsx)(se.d,{path:"/",component:Pe,exact:!0}),Object(je.jsx)(se.d,{path:"/dashboard",component:Xe})]})]})};r(122);c.a.render(Object(je.jsx)(s.a,{store:ae,children:Object(je.jsx)(Ze,{})}),document.getElementById("root"))},82:function(e,t,r){},83:function(e,t,r){}},[[123,1,2]]]);
//# sourceMappingURL=main.744d10f7.chunk.js.map